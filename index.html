
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Typing Speed Hub</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #0d0d0d;
      color: #00ff66;
      background-image: radial-gradient(#00ff66 1px, transparent 1px);
      background-size: 20px 20px;
    }
    h1 {
      font-size: 2.5rem;
      margin: 1rem;
      text-align: center;
    }
    .container {
      padding: 2rem;
    }
    .typing-test {
      background-color: #1e1e1e;
      padding: 1rem;
      border-radius: 10px;
      box-shadow: 0 0 12px #00ff66;
      max-width: 600px;
      margin: auto;
    }
    select, button, textarea {
      margin: 0.5rem 0;
      padding: 0.5rem;
      font-size: 1rem;
      width: 100%;
      background-color: #0d0d0d;
      color: #00ff66;
      border: 1px solid #00ff66;
      border-radius: 5px;
    }
    button:hover {
      background-color: #00ff66;
      color: #0d0d0d;
      cursor: pointer;
    }
    textarea {
      height: 100px;
    }
    .hidden {
      display: none;
    }
    .footer {
      text-align: center;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <h1>Typing Speed Hub</h1>
  <div class="container">
    <div class="typing-test">
      <label for="langSelect">Language:</label>
      <select id="langSelect" onchange="setLanguage(this.value)">
        <option value="en">English</option>
        <option value="de">Deutsch</option>
        <option value="hu">Magyar</option>
      </select>

      <label for="levelSelect">Level:</label>
      <select id="levelSelect">
        <option value="beginner">Beginner</option>
        <option value="intermediate">Intermediate</option>
        <option value="advanced">Advanced</option>
      </select>

      <label for="durationSelect">Test duration:</label>
      <select id="durationSelect">
        <option value="60">1 minute</option>
        <option value="300">5 minutes</option>
      </select>

      <button onclick="startTest()">Start</button>
      <button type="button" onclick="finishTest()" id="finishBtn" class="hidden">Finish</button>

      <p id="timerDisplay"></p>
      <p id="sentenceDisplay"></p>
      <textarea id="inputArea" class="hidden" placeholder="Start typing here..."></textarea>
      <p id="resultDisplay"></p>
    </div>
  </div>

  <div class="footer">
    <p>Follow us:</p>
    <a href="#"><img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Facebook_icon.svg" alt="Facebook" width="40"/></a>
  </div>

  <script>
    let currentLang = 'en';
    let currentSentence = "";
    let startTime, timerInterval;

    const sentences = {
      en: {
        beginner: [
          "Practice makes perfect.",
          "Typing is fun and useful.",
          "Use all your fingers to type.",
          "Keep your eyes on the screen.",
          "Do not look at the keyboard.",
          "Type slowly and carefully.",
          "Sit up straight while typing.",
          "Use backspace only when needed.",
          "Try not to make mistakes.",
          "Start with short sentences.",
          "Repeat each exercise often.",
          "Accuracy is more important than speed.",
          "Take short breaks between sessions.",
          "Use both hands when typing.",
          "Typing gets easier with time.",
          "Focus on hitting the right keys."
        ]
      },
      de: {
        beginner: [
          "Übung macht den Meister.",
          "Tägliches Tippen verbessert deine Fähigkeiten.",
          "Benutze alle Finger beim Tippen.",
          "Halte die Augen auf dem Bildschirm.",
          "Schau nicht auf die Tastatur.",
          "Tippe langsam und präzise.",
          "Sitze beim Tippen gerade.",
          "Nutze die Rücktaste nur bei Bedarf.",
          "Vermeide Tippfehler bewusst.",
          "Beginne mit kurzen Sätzen.",
          "Wiederhole jede Übung regelmäßig.",
          "Genauigkeit ist wichtiger als Geschwindigkeit.",
          "Mach kurze Pausen zwischen den Übungen.",
          "Verwende beide Hände beim Tippen.",
          "Tippen wird mit der Zeit einfacher."
        ]
      },
      hu: {
        beginner: [
          "A gyakorlás teszi a mestert.",
          "A gépelés szórakoztató és hasznos.",
          "Használd az összes ujjad gépeléskor.",
          "Tartsd a szemed a képernyőn.",
          "Ne nézd a billentyűzetet.",
          "Gépelj lassan és figyelmesen.",
          "Ülj egyenesen gépelés közben.",
          "Használd a törlést csak ha szükséges.",
          "Próbáld elkerülni a hibákat.",
          "Kezdj rövid mondatokkal.",
          "Ismételd meg gyakran a gyakorlatokat.",
          "A pontosság fontosabb mint a sebesség.",
          "Tarts rövid szüneteket a gyakorlások között.",
          "Használd mindkét kezed a gépeléshez.",
          "A gépelés idővel könnyebbé válik."
        ]
      }
    };

    function setLanguage(lang) {
      currentLang = lang;
    }

    function startTest() {
      const level = document.getElementById("levelSelect").value;
      const duration = parseInt(document.getElementById("durationSelect").value);
      const sentencePool = sentences[currentLang]?.[level];

      if (!sentencePool || sentencePool.length === 0) {
        alert("No sentences available for selected language/level.");
        return;
      }

      currentSentence = sentencePool[Math.floor(Math.random() * sentencePool.length)];
      document.getElementById("sentenceDisplay").textContent = currentSentence;

      const inputArea = document.getElementById("inputArea");
      inputArea.value = "";
      inputArea.classList.remove("hidden");
      inputArea.focus();

      document.getElementById("finishBtn").classList.remove("hidden");
      document.getElementById("resultDisplay").textContent = "";
      document.getElementById("timerDisplay").textContent = "";

      startTime = Date.now();

      clearInterval(timerInterval);
      let timeLeft = duration;
      document.getElementById("timerDisplay").textContent = timeLeft + "s";

      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById("timerDisplay").textContent = timeLeft + "s";
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          finishTest();
        }
      }, 1000);

      function handleInput() {
        const typed = inputArea.value.trim();
        if (typed === currentSentence.trim()) {
          clearInterval(timerInterval);
          finishTest();
        }
      }

      inputArea.removeEventListener("input", handleInput);
      inputArea.addEventListener("input", handleInput);
    }

    function finishTest() {
      clearInterval(timerInterval);
      const typedText = document.getElementById("inputArea").value;
      const wordsTyped = typedText.trim().split(/\s+/).filter(word => word.length > 0).length;
      const timeTaken = (Date.now() - startTime) / 1000 / 60;
      const wpm = Math.round(wordsTyped / timeTaken);

      let correctChars = 0;
      for (let i = 0; i < Math.min(typedText.length, currentSentence.length); i++) {
        if (typedText[i] === currentSentence[i]) correctChars++;
      }

      const accuracy = Math.round((correctChars / currentSentence.length) * 100);
      document.getElementById("resultDisplay").textContent = `WPM: ${wpm}, Accuracy: ${accuracy}%`;
      document.getElementById("finishBtn").classList.add("hidden");
      document.getElementById("inputArea").classList.add("hidden");
    }
  </script>
</body>
</html>
